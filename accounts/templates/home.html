{% extends "templates/base.html" %}

{% block head %}
<link rel="stylesheet" type="text/css" media="screen" href="/media/css/ui.jqgrid.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/media/css/jquery-ui-1.8.12.custom.css" />
<script src="/media/js/jquery.jqGrid.min.js" type="text/javascript"></script>

<script type="text/javascript">

jQuery(document).ready(function(){ 
var i = 0;
data = new Array()
var mydata = [
{% for user in users %}
  {user : '{{user}}'},
{% endfor  %}
];

function formateadorLink(cellvalue, options, rowObject) {
  return "<a href={% url accounts.views.index %}"+ cellvalue + ">" + cellvalue + "</a>";
}
        
jQuery("#list4").jqGrid({ 
	datatype: "local",
  width: 600,
  height: "auto",
	colNames:[
	'Usuários'
	], 
	colModel:[  
	{name:'user',sorttype:"text",align:"center",resizable:false, formatter: formateadorLink}
	], 
	beforeSelectRow: function(rowid, e) { return true; },
	multiselect: true,
	loadonce: true,
	//altRows: true,
	caption: "Gerenciamento de usuários"

}); 
	
   for(var i=0;i<=mydata.length;i++) {
          jQuery("#list4").jqGrid('addRowData',i+1,mydata[i]); 
       }
		
	   	var mydata = [
   					{id:"1",invdate:"2007-10-01",name:"test"}, 
   					{id:"2",invdate:"2007-10-02",name:"test2"}];
	
  $("#gbox_list4").css("margin", "0 auto");
 // $(".ui-jqgrid-bdiv").css('height', "auto");

});

</script>
{% endblock  %}

{% block content %}

{{ message }}

{% block dialog %}

{% endblock %}



<div id="config">
	<table id="list4"></table> 
     <ul>
          <li>  <a href="{% url accounts.views.create_user %}">Criar usuários do seu sistema</a></li>
          <li>  <a href="#">Apagar usuários do seu sistema </a></li>
          <li>  <a href="#">Editar usuários do seu sistema </a></li>
      </ul>
   
</div>

{% endblock %}
